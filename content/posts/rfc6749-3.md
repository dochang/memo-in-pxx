---
title: "OAuth 2.0 授权框架 3"
date: 2020-10-30T18:46:44+08:00
categories: [oauth2]
tags: [RFC, 翻译]
draft: false
---

翻译了 [RFC6749] 关于 OAuth 2.0 授权框架规范第 1 章的内容。

<!--more-->

# 1. 介绍

## 1.2. 协议流

```plaintext
     +--------+                               +---------------+
     |        |--(A)- Authorization Request ->|   Resource    |
     |        |                               |     Owner     |
     |        |<-(B)-- Authorization Grant ---|               |
     |        |                               +---------------+
     |        |
     |        |                               +---------------+
     |        |--(C)-- Authorization Grant -->| Authorization |
     | Client |                               |     Server    |
     |        |<-(D)----- Access Token -------|               |
     |        |                               +---------------+
     |        |
     |        |                               +---------------+
     |        |--(E)----- Access Token ------>|    Resource   |
     |        |                               |     Server    |
     |        |<-(F)--- Protected Resource ---|               |
     +--------+                               +---------------+
```

上图描述了四个角色之间的交互，包括了下列步骤：

 1. 客户端从资源所有者处请求授权。授权请求可以由客户端直接发送至资源所有者，也可以由授权服务器发送。

 2. 客户端收到一个授权许可，这是一个代表了资源所有者授权的证书，授权类型可以是本规范定义的四种授权类型之一，或者使用扩展类型。授权类型取决于客户端请求授权的方法以及授权服务器支持的类型。

 3. 客户端通过向授权服务器认证并提交授权许可，请求一个访问令牌。

 4. 授权服务器认证客户端并验证授权许可。如果许可有效，就发放访问令牌。

 5. 客户端向资源服务器提交访问令牌，通过认证并请求受保护资源。

 6. 资源服务器验证访问令牌，如果有效，回复请求。

客户端从资源所有者处获得授权许可（在步骤 (A) 与 (B) 中描述）的推荐方法是，使用授权服务器作为中间人。该方法在 4.1 节中介绍。

[RFC6749]: https://tools.ietf.org/html/rfc6749
